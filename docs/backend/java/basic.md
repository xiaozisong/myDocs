<!--
 * @Descripttion: 
 * @version: 
 * @Author: qiuxchao
 * @Date: 2022-07-22 10:44:19
 * @LastEditors: qiuxchao
 * @LastEditTime: 2022-07-27 14:33:00
-->
# åŸºç¡€

## Java ç¼–è¯‘åŸºæœ¬æµç¨‹

1. ç¡¬ç›˜ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ Test.java
2. æ–‡ä»¶ä¸­çš„å†…å®¹æ˜¯æˆ‘ä»¬ç¼–å†™çš„æºä»£ç ï¼ˆè·Ÿè®¡ç®—æœºå‘é€æŒ‡ä»¤ï¼‰

  ```java
  // Test.java
  public class Test {
      public static void main(String[] args) {
          byte x;
          x = 1;    
      }
  }
  ```

3. æ‰§è¡Œ `javac Test.java` å°† Test.java æºæ–‡ä»¶ -----> ç¼–è¯‘ -------> Test.classï¼ˆå­—èŠ‚ç æ–‡ä»¶ï¼Œç•™ç»™è®¡ç®—æœºè¯†åˆ«ï¼‰
4. æ‰§è¡Œ `java Test` ï¼Œç±»åŠ è½½å™¨å°† Test.class ä¸­çš„ç±»åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åè¿è¡Œ Test ç±»ï¼Œæ‰§è¡Œ `main` ä¸»æ–¹æ³•
5. `main` æ–¹æ³•å…¥æ ˆï¼Œå‘ç°å£°æ˜äº†å¸¸é‡ `x` ï¼Œä»å¸¸é‡ç¼“å†²åŒºå¤åˆ¶ `1` åˆ° æ ˆ é‡Œ

![javaç¼–è¯‘æµç¨‹](./images/java_compile.png)

## ç¯å¢ƒæ­å»º

> JDKï¼ˆJavaå¼€å‘å·¥å…·åŒ…ï¼‰ åŒ…å« JREï¼ˆJavaè¿è¡Œæ—¶ï¼‰å’Œ JVMï¼ˆJavaè™šæ‹Ÿæœºï¼‰

1. å®‰è£… JDKï¼ˆJRE JVMï¼‰
2. é…ç½®ç¯å¢ƒå˜é‡ `bin/`
3. ç¼–å†™ `.java` æºä»£ç ï¼Œä½¿ç”¨ `javac` å‘½ä»¤ç¼–è¯‘æºä»£ç 

  ```java
  class Hello {
      public static void main(String[] args) {
          System.out.printLn("Hello World.");
      }
  }
  ```

4. ç¼–è¯‘å®Œæˆåå¾—åˆ° `.class` å­—èŠ‚ç æ–‡ä»¶ï¼Œä½¿ç”¨ `java` å‘½ä»¤æ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶

## Java æ•°æ®ç±»å‹

### å…«å¤§åŸºæœ¬æ•°æ®ç±»å‹

- æ•´å‹ `byte` `short` `int` `long`

- æµ®ç‚¹å‹ `float` `double`

- å­—ç¬¦å‹ `char`

- å¸ƒå°”å‹ `boolean`

#### åŸºæœ¬æ•°æ®ç±»å‹å†…å­˜å®¹é‡

- `byte` å­—èŠ‚å‹ï¼š8 ä¸ª bit æ•æ„Ÿå•å…ƒä½
  - 1byte == 8bit
  - 256ç§ç»„åˆ
  - ç”¨ç¬¬ä¸€ä¸ª bit ä½ç½®æ¥è®°å½•ç¬¦å· 0æ­£æ•° 1è´Ÿæ•°
  - å–å€¼èŒƒå›´ -2çš„7æ¬¡æ–¹ ~ 2çš„ä¸ƒæ¬¡æ–¹-1ï¼Œå³ -128 ~ 127

- `short` çŸ­æ•´å‹ï¼š2 ä¸ª byteï¼Œ16 ä¸ª bit
  - 65536 ç§ç»„åˆ
  - å–å€¼èŒƒå›´ -32768 ~ 32767

- `int` æ•´å½¢ï¼š4 ä¸ª byteï¼Œ32 ä¸ª bit
  - å–å€¼èŒƒå›´ -2147483648 ~ 2147483647

- `long` é•¿æ•´å‹ï¼š8 ä¸ª byteï¼Œ64 ä¸ª bit
  - å–å€¼èŒƒå›´ -2çš„64æ¬¡æ–¹ ~ 2çš„64çš„æ¬¡æ–¹-1

- `float` å•ç²¾åº¦æµ®ç‚¹å‹ï¼š4 ä¸ª byteï¼Œ32 ä¸ª bit

- `double` åŒç²¾åº¦æµ®ç‚¹å‹ï¼š8 ä¸ª byteï¼Œ64 ä¸ª bit

- `char` å­—ç¬¦å‹ï¼š2 ä¸ª byteï¼Œ16 ä¸ª bit
  - ç”¨å•å¼•å· ' ' è¡¨ç¤ºï¼Œè‹±æ–‡å­—ç¬¦å ä¸€ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡å ä¸¤ä¸ªå­—èŠ‚
  - Unicode ç¼–ç 

- `boolean` å¸ƒå°”å‹ï¼š1 ä¸ª byteï¼Œ8 ä¸ª bit
  - true false

### å¼•ç”¨æ•°æ®ç±»å‹

- æ•°ç»„ `[]`

- ç±» `class`(æŠ½è±¡ç±» `abstract class`)

- æ¥å£ `interface`

- æšä¸¾ `enum`

- æ³¨è§£ `@interface`

## ç±»å‹è½¬æ¢

### åŸºæœ¬ç±»å‹ ğŸ” åŸºæœ¬ç±»å‹

#### å°æ•°æ®ç±»å‹ç›¸åŒ

éƒ½æ˜¯æ•´å‹æˆ–éƒ½æ˜¯æµ®ç‚¹

1. å¤§ç©ºé—´å˜é‡å¯ä»¥ç›´æ¥å­˜å‚¨ç©ºé—´å˜é‡çš„æ•°æ®
2. å°ç©ºé—´å˜é‡ä¸å¯ä»¥ç›´æ¥å­˜å‚¨å¤§ç©ºé—´çš„æ•°æ®ï¼ˆéœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼‰
3. å¼ºåˆ¶è½¬æ¢å†™æ³•éƒ½å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†å¦‚æœè½¬æ¢çš„è¿‡ç¨‹ä¸­æ•°å€¼èŒƒå›´è¶…è¿‡è¾¹ç•Œï¼Œå°±å¯èƒ½ä¼šæœ‰æŸå¤±

```java
byte a = 1; int b = a; // å°ç©ºé—´å˜é‡æ”¾å…¥å¤§ç©ºé—´å˜é‡ï¼Œä¸éœ€è¦æ‰‹åŠ¨è½¬æ¢
int a = 1; byte b = (byte)a; // å¤§ç©ºé—´è½¬ç©ºé—´ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢
float x = 3.4F; double y = x; // æ— éœ€æ‰‹åŠ¨è½¬æ¢
double x = 3.4; float y = (float)x; // éœ€è¦æ‰‹åŠ¨å¼ºåˆ¶è½¬æ¢
int a = 1000; byte b = (byte)a;  // ç¼–è¯‘é€šè¿‡ï¼Œä½†æœ€ç»ˆ b çš„å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› ä¸º int1000 è½¬åˆ° byte åªä¼šä¿ç•™æœ€å 8 ä¸ª bit ä½
```

#### å°æ•°æ®ç±»å‹ä¸åŒ

##### æ•´å‹ è½¬ æµ®ç‚¹å‹

1. æ¯”è¾ƒç²¾ç¡®ç¨‹åº¦ æµ®ç‚¹å‹ç²¾ç¡®åº¦æ›´é«˜ï¼Œå¯ä»¥ç›´æ¥å­˜æ”¾æ•´æ•°ï¼Œåä¹‹åˆ™éœ€è¦å¼ºåˆ¶è½¬æ¢
2. ä»»ä½•ä¸€ä¸ªæµ®ç‚¹å‹(float/double)éƒ½å¯ä»¥ç›´æ¥å­˜æ”¾ä¸€ä¸ªæ•´å‹

```java
int a = 1; float b = a; // æ— éœ€æ‰‹åŠ¨è½¬æ¢
float a = 1.0F; int b = (int)a; // éœ€è¦æ‰‹åŠ¨å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè½¬æ¢åèˆå¼ƒå°æ•°ç‚¹åçš„éƒ¨åˆ†
```

##### æ•´å½¢ è½¬ å­—ç¬¦å‹

1. æ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ç€ä¸€ä¸ª Unicode ç ï¼Œä¾‹å¦‚ï¼ša -- 97
2. å­—ç¬¦å¯ä»¥ç›´æ¥è½¬æ•´å½¢ï¼Œæ•´å½¢è½¬å­—ç¬¦åˆ™éœ€è¦å¼ºåˆ¶è½¬æ¢ï¼Œå› ä¸ºæ•´å½¢æ˜¯ 32bitï¼Œè€Œå­—ç¬¦æ˜¯ 16bit

```java
char x = 'a'; int y = x; // æ— éœ€æ‰‹åŠ¨è½¬æ¢ï¼Œç»“æœ y == 97
int x = 97; char y = (int)x; // éœ€è¦å¼ºåˆ¶è½¬æ¢ï¼Œå°† 32bit çš„ x æ”¾å…¥ 16bit çš„ y
```

##### å¸ƒå°”ç±»å‹å¾ˆç‰¹æ®Š

å¸ƒå°”ç±»å‹ä¸èƒ½ä¸å…¶ä»–åŸºæœ¬ç±»å‹ä¹‹é—´å‘ç”Ÿè½¬æ¢

## è¿ç®—ç¬¦

è¿ç®—ç¬¦æ˜¯ç”¨æ¥æŒ‡æ˜å¯¹äºæ“ä½œå€¼çš„è¿ç®—æ–¹å¼

### æŒ‰ç…§æ“ä½œå€¼çš„æ•°ç›®è¿›è¡Œåˆ†ç±»

- å•ç›® `a ++;`
- åŒç›® `a + b;`
- ä¸‰ç›® `(a > b) ? x : y;`

### æŒ‰ç…§è¿ç®—ç¬¦çš„åŠŸèƒ½è¿›è¡Œåˆ†ç±»

- ç®—æœ¯è¿ç®—
    1. `+` åŠ 
    2. `-` å‡
    3. `*` ä¹˜
    4. `/` é™¤
    5. `%` å–ä½™ã€å–æ¨¡
    6. `++` è‡ªå¢ï¼Œ`++` åœ¨å‰ï¼Œå…ˆè®¡ç®—å†èµ‹å€¼ï¼›`++` åœ¨åå…ˆèµ‹å€¼å†è®¡ç®—
    7. `--` è‡ªå‡ï¼Œ`--` åœ¨å‰ï¼Œå…ˆè®¡ç®—å†èµ‹å€¼ï¼›`--` åœ¨åå…ˆèµ‹å€¼å†è®¡ç®—

- èµ‹å€¼è¿ç®—
    1. `=` å°† `=` å³è¾¹çš„å€¼å­˜å…¥ `=` å·¦è¾¹çš„å˜é‡ç©ºé—´å†…
    2. `+=` å¤åˆèµ‹å€¼ï¼Œ`n = n + 1` ç­‰ä»·äº `n += 1`ï¼Œä»¥ä¸‹å¤åˆç¬¦å·åŒç†
    3. `-=`
    4. `*=`
    5. `/=`
    6. `%=`

- å…³ç³»è¿ç®—ï¼ˆæ¯”è¾ƒï¼‰
    1. `>`  å¤§äº
    2. `>=` å¤§äºç­‰äº
    3. `<`  å°äº
    4. `<=` å°äºç­‰äº
    5. `!=`  ä¸ç­‰äº
    6. `==`  ç­‰äº
    7. `instanceof`  éªŒè¯ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹

- é€»è¾‘è¿ç®—
    1. `&`  é€»è¾‘ä¸ï¼šå·¦å³å…¨éƒ¨æ»¡è¶³æ—¶è¿”å›true
    2. `|`  é€»è¾‘æˆ–ï¼šå·¦å³æœ‰ä¸€ä¸ªæ¡ä»¶æ»¡è¶³æ—¶è¿”å›true
    3. `^`  é€»è¾‘å¼‚æˆ–ï¼šåªåœ¨å·¦å³ç»“æœä¸åŒæ—¶è¿”å›true
    4. `!`  é€»è¾‘éï¼šå•ç›®ï¼Œåè½¬ç»“æœ
    5. `&&` çŸ­è·¯ä¸ï¼šå·¦è¾¹æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œç›´æ¥è¿”å›falseï¼Œä¸å†è®¡ç®—å³è¾¹ç»“æœ
    6. `||` çŸ­è·¯æˆ–ï¼šå·¦è¾¹æ¡ä»¶æ»¡è¶³æ—¶ï¼Œç›´æ¥è¿”å›trueï¼Œä¸å†è®¡ç®—å³è¾¹ç»“æœ

- ä½ï¼ˆbitï¼‰è¿ç®—
    1. `&` æŒ‰ä½ä¸
    2. `|` æŒ‰ä½æˆ–
    3. `^` æŒ‰ä½å¼‚æˆ–
    4. `~` æŒ‰ä½å–å
    5. `<<`æŒ‰ä½å·¦ä½ç§»
    6. `>>`æŒ‰ä½å³ä½ç§»
    7. `>>>`æŒ‰ä½å³ä½ç§»ï¼ˆæ— ç¬¦å·ï¼‰

## å­—ç¬¦ char å’Œ å­—ç¬¦ä¸² String çš„åŒºåˆ«

`char` å­—ç¬¦ç±»å‹ï¼Œ**åŸºæœ¬ç±»å‹**ï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªå­—ç¬¦

`String` å­—ç¬¦ä¸²ï¼Œ**å¼•ç”¨ç±»å‹**ï¼Œä¸å—é™åˆ¶
| å­—ç¬¦ | å­—ç¬¦ä¸² |
| --- | ---- |
| `char` | `String` |
| åŸºæœ¬ç±»å‹ | å¼•ç”¨ç±»å‹ |
| `'a'`    |  `"a"` `"abc"` `""`  |

## float & byte & long èµ‹å€¼æ—¶çš„é—®é¢˜

![float & byte & long èµ‹å€¼æ—¶çš„é—®é¢˜](./images/float_byte_long_issue.md.png)
